<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrarse | Amor en Línea</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              500: '#ec4899',
              600: '#db2777',
              700: '#be185d',
            },
            secondary: {
              400: '#f472b6',
              500: '#ec4899',
            }
          },
          fontFamily: {
            'sans': ['"DM Sans"', 'sans-serif'],
            'serif': ['"Playfair Display"', 'serif'],
          },
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Playfair+Display:wght@400;500;700&display=swap');
    
    /* Estilo para ocultar el cursor predeterminado */
    html, body {
      cursor: none;
    }
    
    /* Cursor personalizado */
    #custom-cursor {
      position: fixed;
      top: 0;
      left: 0;
      width: 24px;
      height: 24px;
      pointer-events: none;
      z-index: 1000;
      animation: pulse 1s infinite;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease;
    }
    
    @keyframes pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.3); }
    }
    
    body {
      background-image: url('https://img.freepik.com/foto-gratis/pareja-besada-sol-abraza-disfrutando-belleza-naturaleza-generada-ia_188544-43212.jpg?semt=ais_hybrid&w=740');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      overflow-x: hidden;
      transition: background-image 0.5s ease;
    }
    
    .dark body {
      background-image: url('https://images.unsplash.com/photo-1494774157365-9e04c6720e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');
    }
    
    .animate-heartbeat {
      animation: heartbeat 1.5s ease-in-out infinite;
    }
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    .gradient-text {
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      background-image: linear-gradient(45deg, #ec4899, #f472b6);
    }
    .glass-effect {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    .dark .glass-effect {
      background: rgba(0, 0, 0, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Estilos para los corazones de la animación */
    .heart-particle {
      position: absolute;
      pointer-events: none;
      opacity: 0;
      animation: heart-float 3s ease-out forwards;
    }
    
    @keyframes heart-float {
      0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* Estilos para la flecha de corazones */
    .heart-arrow {
      position: absolute;
      pointer-events: none;
      animation: shoot-arrow 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      transform-origin: left center;
    }
    
    @keyframes shoot-arrow {
      0% {
        transform: translateX(0) scale(0.5);
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: translateX(calc(100vw + 100px)) scale(1);
        opacity: 0;
      }
    }
    
    /* Efectos flotantes */
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    .animate-float {
      animation: float 6s ease-in-out infinite;
    }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
  </style>
</head>
<body class="min-h-screen font-sans">

  <!-- Cursor personalizado -->
  <img id="custom-cursor" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%23ec4899' viewBox='0 0 24 24'><path d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/></svg>" />

  <!-- Navbar Romántica -->
  <nav class="glass-effect shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-20 items-center">
        <a href="#" class="flex items-center space-x-3">
          <i class="fas fa-heart text-rose-500 text-3xl animate-heartbeat"></i>
          <span class="text-2xl font-serif font-bold text-white dark:text-rose-200">Amor en Línea</span>
        </a>
        <div class="flex space-x-6 items-center">
          <button id="theme-toggle" class="text-white dark:text-rose-200 hover:text-rose-200 dark:hover:text-rose-100 p-2 rounded-full hover:bg-white/20">
            <i class="fas fa-moon dark:hidden text-lg"></i>
            <i class="fas fa-sun hidden dark:block text-lg"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="w-full max-w-md space-y-8">
      <!-- Logo Animado -->
      <div class="text-center">
        <div class="mx-auto w-24 h-24 rounded-full glass-effect shadow-lg flex items-center justify-center mb-4">
          <i class="fas fa-heart text-4xl gradient-text"></i>
        </div>
        <h2 class="mt-6 text-3xl font-serif font-bold text-white dark:text-rose-100">
          Comienza tu <span class="gradient-text">historia de amor</span>
        </h2>
        <p class="mt-2 text-sm text-white/80 dark:text-rose-200/80">
          Regístrate para encontrar tu pareja ideal
        </p>
      </div>

      <!-- Formulario de Registro con efecto vidrio -->
      <form method="POST" action="{% url 'blogapp:register' %}" class="mt-8 space-y-6 glass-effect p-8 rounded-2xl shadow-xl backdrop-blur-lg">
        {% csrf_token %}
        
        <!-- Mensajes de Error -->
        {% if error %}
        <div class="bg-rose-100/30 border-l-4 border-rose-500 p-4 mb-4 dark:bg-rose-900/20 rounded-lg">
          <div class="flex">
            <div class="flex-shrink-0">
              <i class="fas fa-heart-crack text-rose-500"></i>
            </div>
            <div class="ml-3">
              <p class="text-sm text-white dark:text-rose-200">
                {{ error }}
              </p>
            </div>
          </div>
        </div>
        {% endif %}

        <!-- Campo de Usuario -->
        <div class="space-y-2">
          <label for="username" class="block text-sm font-medium text-white dark:text-rose-200">
            Tu nombre de enamorado/a
          </label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-user text-rose-300"></i>
            </div>
            <input type="text" id="username" name="username" required
              class="pl-10 block w-full rounded-lg border-gray-300/50 dark:border-gray-600/50 bg-white/70 dark:bg-gray-800/50 text-gray-800 dark:text-white focus:ring-rose-500 focus:border-rose-500 shadow-sm"
              placeholder="Elige un nombre especial">
          </div>
        </div>

        <!-- Campo de Email -->
        <div class="space-y-2">
          <label for="email" class="block text-sm font-medium text-white dark:text-rose-200">
            Tu correo del corazón
          </label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-envelope text-rose-300"></i>
            </div>
            <input type="email" id="email" name="email" required
              class="pl-10 block w-full rounded-lg border-gray-300/50 dark:border-gray-600/50 bg-white/70 dark:bg-gray-800/50 text-gray-800 dark:text-white focus:ring-rose-500 focus:border-rose-500 shadow-sm"
              placeholder="donde recibirás amor">
          </div>
        </div>

        <!-- Campo de Contraseña -->
        <div class="space-y-2">
          <label for="password1" class="block text-sm font-medium text-white dark:text-rose-200">
            Tu contraseña secreta
          </label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-rose-300"></i>
            </div>
            <input type="password" id="password1" name="password1" required
              class="pl-10 block w-full rounded-lg border-gray-300/50 dark:border-gray-600/50 bg-white/70 dark:bg-gray-800/50 text-gray-800 dark:text-white focus:ring-rose-500 focus:border-rose-500 shadow-sm"
              placeholder="Protege tu corazón">
            <button type="button" class="absolute right-3 top-3 text-rose-300 hover:text-rose-200 toggle-password" data-target="password1">
              <i class="fas fa-eye-slash"></i>
            </button>
          </div>
        </div>

        <!-- Confirmar Contraseña -->
        <div class="space-y-2">
          <label for="password2" class="block text-sm font-medium text-white dark:text-rose-200">
            Confirma tu contraseña
          </label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-rose-300"></i>
            </div>
            <input type="password" id="password2" name="password2" required
              class="pl-10 block w-full rounded-lg border-gray-300/50 dark:border-gray-600/50 bg-white/70 dark:bg-gray-800/50 text-gray-800 dark:text-white focus:ring-rose-500 focus:border-rose-500 shadow-sm"
              placeholder="Vuelve a escribirla">
            <button type="button" class="absolute right-3 top-3 text-rose-300 hover:text-rose-200 toggle-password" data-target="password2">
              <i class="fas fa-eye-slash"></i>
            </button>
          </div>
        </div>

        <!-- Botón de Submit -->
        <button type="submit" id="register-button"
          class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-400 transition-all duration-300 shadow-lg hover:shadow-rose-300/30">
          <span class="absolute left-0 inset-y-0 flex items-center pl-3">
            <i class="fas fa-heart text-white group-hover:animate-pulse"></i>
          </span>
          Unirse al amor
        </button>
      </form>

      <!-- Enlace de Login -->
      <div class="text-center">
        <p class="text-sm text-white/80 dark:text-rose-200/80">
          ¿Ya tienes una cuenta?
          <a href="{% url 'blogapp:login' %}" class="font-medium text-white hover:text-rose-200 dark:text-rose-200 dark:hover:text-rose-100 ml-1 underline underline-offset-4 decoration-2">
            Inicia sesión aquí
          </a>
        </p>
      </div>
    </div>
  </main>

  <!-- Efectos decorativos flotantes -->
  <div class="fixed top-20 left-10 w-8 h-8 rounded-full bg-rose-300/30 blur-xl animate-float delay-100"></div>
  <div class="fixed bottom-1/4 right-1/4 w-12 h-12 rounded-full bg-pink-300/20 blur-lg animate-float delay-300"></div>
  <div class="fixed top-1/3 right-20 w-6 h-6 rounded-full bg-rose-400/20 blur-md animate-float delay-200"></div>

  <script>
    // Cursor personalizado
    const cursor = document.getElementById('custom-cursor');
    document.addEventListener('mousemove', e => {
      cursor.style.top = e.clientY + 'px';
      cursor.style.left = e.clientX + 'px';
    });

    // Cambiar color del cursor al pasar sobre elementos interactivos
    const interactiveElements = document.querySelectorAll('a, button, input, [role="button"]');
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => {
        cursor.style.filter = 'brightness(1.2) drop-shadow(0 0 4px rgba(236, 72, 153, 0.7))';
      });
      el.addEventListener('mouseleave', () => {
        cursor.style.filter = 'none';
      });
    });

    // Toggle password visibility
    document.querySelectorAll('.toggle-password').forEach(button => {
      button.addEventListener('click', function() {
        const targetId = this.getAttribute('data-target');
        const passwordInput = document.getElementById(targetId);
        const icon = this.querySelector('i');
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          icon.classList.replace('fa-eye-slash', 'fa-eye');
        } else {
          passwordInput.type = 'password';
          icon.classList.replace('fa-eye', 'fa-eye-slash');
        }
      });
    });

    // Dark mode toggle
    document.getElementById('theme-toggle').addEventListener('click', function() {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
    });

    // Check for saved theme preference
    if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    }

    // Efecto de corazones flotantes al cargar
    function createFloatingHeart() {
      const heart = document.createElement('div');
      heart.innerHTML = '<i class="fas fa-heart text-rose-300/30"></i>';
      heart.className = 'absolute text-2xl';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.top = '0';
      heart.style.animation = `float ${6 + Math.random() * 6}s linear infinite`;
      document.body.appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 10000);
    }
    
    // Crear algunos corazones al cargar
    for (let i = 0; i < 5; i++) {
      setTimeout(createFloatingHeart, i * 2000);
    }

    // Efecto de flecha con corazones al hacer clic en el botón de registro
    document.getElementById('register-button').addEventListener('click', function(e) {
      // Crear flecha de corazones
      const arrow = document.createElement('div');
      arrow.className = 'heart-arrow';
      arrow.innerHTML = `
        <svg width="120" height="40" viewBox="0 0 120 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 20H100" stroke="url(#pink-gradient)" stroke-width="2" stroke-linecap="round"/>
          <path d="M90 10L100 20L90 30" stroke="url(#pink-gradient)" stroke-width="2" stroke-linecap="round"/>
          <defs>
            <linearGradient id="pink-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#ec4899"/>
              <stop offset="100%" stop-color="#f472b6"/>
            </linearGradient>
          </defs>
        </svg>
      `;
      
      // Posicionar la flecha donde está el botón
      const rect = this.getBoundingClientRect();
      arrow.style.left = `${rect.left - 60}px`;
      arrow.style.top = `${rect.top + rect.height/2 - 20}px`;
      document.body.appendChild(arrow);
      
      // Crear múltiples corazones que salen disparados
      for (let i = 0; i < 20; i++) {
        setTimeout(() => {
          createHeartParticle(rect.left + rect.width, rect.top + rect.height/2);
        }, i * 50);
      }
      
      // Eliminar la flecha después de la animación
      setTimeout(() => {
        arrow.remove();
      }, 1000);
    });
    
    // Función para crear partículas de corazón
    function createHeartParticle(x, y) {
      const heart = document.createElement('div');
      heart.className = 'heart-particle';
      heart.innerHTML = '<i class="fas fa-heart text-rose-500"></i>';
      
      // Posición inicial
      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      
      // Dirección aleatoria
      const angle = Math.random() * Math.PI * 2;
      const distance = 50 + Math.random() * 100;
      const tx = Math.cos(angle) * distance;
      const ty = Math.sin(angle) * distance;
      
      heart.style.setProperty('--tx', `${tx}px`);
      heart.style.setProperty('--ty', `${ty}px`);
      
      // Tamaño aleatorio
      const size = 0.5 + Math.random() * 1.5;
      heart.style.fontSize = `${size}rem`;
      
      document.body.appendChild(heart);
      
      // Eliminar después de la animación
      setTimeout(() => {
        heart.remove();
      }, 3000);
    }
  </script>
</body>
</html>